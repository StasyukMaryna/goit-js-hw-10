{"mappings":"YAAA,IAAMA,EAAW,+BACXC,EACJ,gFCCF,IAAMC,EAAiBC,SAASC,cAAc,uBACxCC,EAAaF,SAASC,cAAc,gBACpCE,EAAYH,SAASC,cAAc,YACnCG,EAAWJ,SAASC,cAAc,WAEpCI,EAAU,GA6Bd,SAASC,EAAmBC,GAC1B,IAAeC,EAUfN,EAAWO,WAVID,EAUeD,EAAK,GAT1B,iCACkCG,OAAhBF,EAAGG,IAAI,WAEVD,OAFmBF,EAAGI,OAAO,GAAGC,KAAK,0DAGzDH,OADoBF,EAAGI,OAAO,GAAGC,KAAK,eAELH,OADjCF,EAAGI,OAAO,GAAGE,YAAY,+CACiCJ,OAAzBF,EAAGI,OAAO,GAAGG,YAAY,kBAK9DZ,EAAUa,UAAUC,IAAI,UACxBb,EAASY,UAAUC,IAAI,UACvBf,EAAWc,UAAUE,OAAO,S,CAG9B,SAASC,EAAmBZ,GAC1B,IAAMa,EAASb,EACZc,KAAI,SAAAb,GAEH,OADAH,EAAUG,EAAGc,GACN,iBAA0BZ,OAATF,EAAGc,GAAG,KAAWZ,OAARF,EAAGK,KAAK,Y,IAE1CU,KAAK,IACRxB,EAAeyB,mBAAmB,YAAaJ,GAC/CjB,EAAUa,UAAUC,IAAI,S,CAG1B,SAASQ,IACFvB,EAAWc,UAAUU,SAAS,WACjCxB,EAAWc,UAAUC,IAAI,UAE3Bd,EAAUa,UAAUE,OAAO,S,CA/C7BnB,EAAe4B,iBAAiB,UAZhC,SAAwBC,GDNjB,IAAyBC,ECO9BJ,IACApB,EAAUuB,EAAME,OAAOC,ODROF,ECUdxB,EDTT2B,MACL,GAAuCtB,OAApCb,EAAS,6BAAsCa,OAAXmB,EAAQ,KAAWnB,OAARZ,IAClDmC,MAAK,SAAAC,GACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,KCIXL,KAAK3B,GACLiC,OAAM,SAAAC,GACLrC,EAAUa,UAAUC,IAAI,UACxBb,EAASY,UAAUE,OAAO,S,OAO9BO,IDTOO,MAAM,GAAsBtB,OAAnBb,EAAS,YAAkBa,OAARZ,IAAWmC,MAAK,SAAAC,GACjD,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,M,ICQXL,KAAKd,GACLoB,OAAM,SAAAC,GACLrC,EAAUa,UAAUC,IAAI,UACxBb,EAASY,UAAUE,OAAO,S","sources":["src/cat-api.js","src/index.js"],"sourcesContent":["const BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY =\n  'api_key=live_KhbXzYnvRrenyDK017lnALRJzTdgDhK2UShY5a41CfeGFPTJ7zzSnqsmtvuONbR5';\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${BASE_URL}/images/search?breed_ids=${breedId}&${API_KEY}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nexport function fetchBreeds(breedId) {\n  return fetch(`${BASE_URL}/breeds?${API_KEY}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n","import './style.css';\nimport { fetchCatByBreed, fetchBreeds } from './cat-api.js';\n\nconst breedSelectRef = document.querySelector('select.breed-select');\nconst catInfoRef = document.querySelector('div.cat-info');\nconst loaderRef = document.querySelector('p.loader');\nconst errorRef = document.querySelector('p.error');\n\nlet breedId = '';\n\nfunction showCatByBreed(event) {\n  hideCatInfo();\n  breedId = event.target.value;\n\n  fetchCatByBreed(breedId)\n    .then(markupCurrentBreed)\n    .catch(error => {\n      loaderRef.classList.add('hidden');\n      errorRef.classList.remove('hidden');\n    });\n}\n\nbreedSelectRef.addEventListener('change', showCatByBreed);\n\nfunction showBreeds() {\n  hideCatInfo();\n\n  fetchBreeds()\n    .then(markupBreedsSelect)\n    .catch(error => {\n      loaderRef.classList.add('hidden');\n      errorRef.classList.remove('hidden');\n    });\n}\n\nshowBreeds();\n\nfunction markupCurrentBreed(data) {\n  const markup = el => {\n    return ` \n <img class=\"cat-img\" src=\"${el.url}\" alt=\"${el.breeds[0].name}\" >\n <div class=\"cat-text\">\n <h1 class=\"cat-header\">${el.breeds[0].name}</h1>\n <p>${el.breeds[0].description}</p>\n <p><span><b>Temperament: </b></span>${el.breeds[0].temperament}</p>\n </div>`;\n  };\n\n  catInfoRef.innerHTML = markup(data[0]);\n  loaderRef.classList.add('hidden');\n  errorRef.classList.add('hidden');\n  catInfoRef.classList.remove('hidden');\n}\n\nfunction markupBreedsSelect(data) {\n  const markup = data\n    .map(el => {\n      breedId = el.id;\n      return `<option value=${el.id}>${el.name}</option>`;\n    })\n    .join('');\n  breedSelectRef.insertAdjacentHTML('beforeend', markup);\n  loaderRef.classList.add('hidden');\n}\n\nfunction hideCatInfo() {\n  if (!catInfoRef.classList.contains('hidden')) {\n    catInfoRef.classList.add('hidden');\n  }\n  loaderRef.classList.remove('hidden');\n}\n"],"names":["$ae0c329fb0fb36dc$var$BASE_URL","$ae0c329fb0fb36dc$var$API_KEY","$b8f9b7833fa37166$var$breedSelectRef","document","querySelector","$b8f9b7833fa37166$var$catInfoRef","$b8f9b7833fa37166$var$loaderRef","$b8f9b7833fa37166$var$errorRef","$b8f9b7833fa37166$var$breedId","$b8f9b7833fa37166$var$markupCurrentBreed","data","el","innerHTML","concat","url","breeds","name","description","temperament","classList","add","remove","$b8f9b7833fa37166$var$markupBreedsSelect","markup","map","id","join","insertAdjacentHTML","$b8f9b7833fa37166$var$hideCatInfo","contains","addEventListener","event","breedId","target","value","fetch","then","resp","ok","Error","statusText","json","catch","error"],"version":3,"file":"index.23e552b0.js.map"}