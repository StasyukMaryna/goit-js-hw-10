{"mappings":"AAGA,MAAMA,EAAiBC,SAASC,cAAc,uBACxCC,EAAaF,SAASC,cAAc,gBACpCE,EAAYH,SAASC,cAAc,YACnCG,EAAWJ,SAASC,cAAc,WAExC,IAAII,EAAU,GA6Bd,SAASC,EAAmBC,GACX,IAAAC,EAUfN,EAAWO,UATF,kCADMD,EAUeD,EAAK,IARLG,aAAaF,EAAGG,OAAO,GAAGC,6DAEhCJ,EAAGG,OAAO,GAAGC,kBACjCJ,EAAGG,OAAO,GAAGE,yDACoBL,EAAGG,OAAO,GAAGG,2BAKlDX,EAAUY,UAAUC,IAAI,UACxBZ,EAASW,UAAUC,IAAI,UACvBd,EAAWa,UAAUE,OAAO,S,CAG9B,SAASC,EAAmBX,GAC1B,MAAMY,EAASZ,EACZa,KAAIZ,IACHH,EAAUG,EAAGa,GACN,iBAAiBb,EAAGa,MAAMb,EAAGI,mBAErCU,KAAK,IACRvB,EAAewB,mBAAmB,YAAaJ,GAC/ChB,EAAUY,UAAUC,IAAI,S,CAG1B,SAASQ,IACFtB,EAAWa,UAAUU,SAAS,WACjCvB,EAAWa,UAAUC,IAAI,UAE3Bb,EAAUY,UAAUE,OAAO,S,CA/C7BlB,EAAe2B,iBAAiB,UAZhC,SAAwBC,GCNjB,IAAyBC,EDO9BJ,IACAnB,EAAUsB,EAAME,OAAOC,OCROF,EDUdvB,ECTT0B,MACL,wDAAuCH,mFACvCI,MAAKC,IACL,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,KDIjBL,KAAK1B,GACLgC,OAAMC,IACLpC,EAAUY,UAAUC,IAAI,UACxBZ,EAASW,UAAUE,OAAO,SAAS,G,IAOvCO,ICTOO,MAAM,qHAAiCC,MAAKC,IACjD,IAAKA,EAAKC,GACR,MAAM,IAAIC,MAAMF,EAAKG,YAEvB,OAAOH,EAAKI,MAAM,IDQjBL,KAAKd,GACLoB,OAAMC,IACLpC,EAAUY,UAAUC,IAAI,UACxBZ,EAASW,UAAUE,OAAO,SAAS","sources":["src/index.js","src/cat-api.js"],"sourcesContent":["import './style.css';\nimport { fetchCatByBreed, fetchBreeds } from './cat-api.js';\n\nconst breedSelectRef = document.querySelector('select.breed-select');\nconst catInfoRef = document.querySelector('div.cat-info');\nconst loaderRef = document.querySelector('p.loader');\nconst errorRef = document.querySelector('p.error');\n\nlet breedId = '';\n\nfunction showCatByBreed(event) {\n  hideCatInfo();\n  breedId = event.target.value;\n\n  fetchCatByBreed(breedId)\n    .then(markupCurrentBreed)\n    .catch(error => {\n      loaderRef.classList.add('hidden');\n      errorRef.classList.remove('hidden');\n    });\n}\n\nbreedSelectRef.addEventListener('change', showCatByBreed);\n\nfunction showBreeds() {\n  hideCatInfo();\n\n  fetchBreeds()\n    .then(markupBreedsSelect)\n    .catch(error => {\n      loaderRef.classList.add('hidden');\n      errorRef.classList.remove('hidden');\n    });\n}\n\nshowBreeds();\n\nfunction markupCurrentBreed(data) {\n  const markup = el => {\n    return ` \n <img class=\"cat-img\" src=\"${el.url}\" alt=\"${el.breeds[0].name}\" >\n <div class=\"cat-text\">\n <h1 class=\"cat-header\">${el.breeds[0].name}</h1>\n <p>${el.breeds[0].description}</p>\n <p><span><b>Temperament: </b></span>${el.breeds[0].temperament}</p>\n </div>`;\n  };\n\n  catInfoRef.innerHTML = markup(data[0]);\n  loaderRef.classList.add('hidden');\n  errorRef.classList.add('hidden');\n  catInfoRef.classList.remove('hidden');\n}\n\nfunction markupBreedsSelect(data) {\n  const markup = data\n    .map(el => {\n      breedId = el.id;\n      return `<option value=${el.id}>${el.name}</option>`;\n    })\n    .join('');\n  breedSelectRef.insertAdjacentHTML('beforeend', markup);\n  loaderRef.classList.add('hidden');\n}\n\nfunction hideCatInfo() {\n  if (!catInfoRef.classList.contains('hidden')) {\n    catInfoRef.classList.add('hidden');\n  }\n  loaderRef.classList.remove('hidden');\n}\n","const BASE_URL = 'https://api.thecatapi.com/v1';\nconst API_KEY =\n  'api_key=live_KhbXzYnvRrenyDK017lnALRJzTdgDhK2UShY5a41CfeGFPTJ7zzSnqsmtvuONbR5';\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(\n    `${BASE_URL}/images/search?breed_ids=${breedId}&${API_KEY}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n\nexport function fetchBreeds(breedId) {\n  return fetch(`${BASE_URL}/breeds?${API_KEY}`).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.statusText);\n    }\n    return resp.json();\n  });\n}\n"],"names":["$1f0dc3b9307be026$var$breedSelectRef","document","querySelector","$1f0dc3b9307be026$var$catInfoRef","$1f0dc3b9307be026$var$loaderRef","$1f0dc3b9307be026$var$errorRef","$1f0dc3b9307be026$var$breedId","$1f0dc3b9307be026$var$markupCurrentBreed","data","el","innerHTML","url","breeds","name","description","temperament","classList","add","remove","$1f0dc3b9307be026$var$markupBreedsSelect","markup","map","id","join","insertAdjacentHTML","$1f0dc3b9307be026$var$hideCatInfo","contains","addEventListener","event","breedId","target","value","fetch","then","resp","ok","Error","statusText","json","catch","error"],"version":3,"file":"index.6c5697bf.js.map"}